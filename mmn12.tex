% --------------------------------------------------------------
% This is all preamble stuff that you don't have to worry about.
% Head down to where it says "Start here"
% --------------------------------------------------------------
 
\documentclass[11pt,a4paper]{article}

\usepackage{pgfplots} % For plotting
\usepackage{pgfplotstable}
\usepackage{enumitem} % Custom list handling


\pgfplotsset{compat=1.18} % Ensure compatibility
\usepackage{caption} % For \captionof
\usepackage{mathrsfs,amsmath}   %The amsmath package is included for \xrightarrow
\usepackage[top=2cm,bottom=2cm,left=2.5cm,right=2cm]{geometry}
\usepackage{array} % For better column formatting
\usepackage{ragged2e} % For \RaggedRight to ensure proper alignment
% \usepackage{polyglossia}


\usepackage[english, bidi=basic, layout=sectioning.tabular]{babel}
\babelprovide[import,main]{hebrew}
\babelfont{sf}
          [Ligatures={Common,Discretionary,TeX}]{Libertinus Sans}
\babelfont{tt}
          [Ligatures=TeX]{Libertinus Mono}


\setmainfont{David CLM}[Script=Hebrew]
%\setmainfont{Noto Sans Hebrew}[Language=Hebrew, Script=Hebrew]

\babelfont[hebrew]{rm}[Script=Hebrew]{David CLM}
\usepackage{fontspec}

\newfontfamily\hebrewfont[Script=Hebrew]{David CLM} %This font will work in Overleaf, Linux and Mac installs, if you're running windows you'd need to pick the right ones
\newfontfamily\hebrewfontsf[Script=Hebrew]{Miriam CLM}
\newfontfamily\englishfont{Times New Roman} % English font
%\newfontfamily\englishfont{TeX Gyre Termes} % Robust alternative to Times New Roman
          
% [Ligatures={Common,Discretionary,TeX}]{Libertinus Serif} % Or any font that supports Hebrew.

\newenvironment{solution}{\begin{proof}[Solution]}{\end{proof}}

\newcommand{\EN}{\selectlanguage{english}}
\newcommand{\HE}{\selectlanguage{hebrew} \vspace{0pt}}

% Define the custom itemize environment for hebrewlist
\newlist{hebrewlist}{itemize}{1} % Create a new list type
\setlist[hebrewlist,1]{%
    label=\fixNumbering{\thehebrewCounter}, % Use Hebrew counter with tightly bound dot
    ref=\thehebrewCounter, % Reference format (if needed for cross-referencing)
    leftmargin=2em, % Adjust the left margin
    labelsep=1em, % Adjust spacing between the label and the text
    itemsep=0.5\baselineskip, % Adjust spacing between items
    before=\usecounter{hebrewCounter} % Enable the Hebrew counter
}

% Define the macro to switch languages
\newcommand{\switchlang}[2]{%
    \foreignlanguage{#1}{#2} % Switch to the specified language for the given text
}

% Example: Switch to Hebrew for this section
%    \switchlang{hebrew}{זוהי טקסט בעברית}


% --------------


% Redefine the itemize bullets globally
\renewcommand\labelitemi{$\bullet$}
\renewcommand\labelitemii{$\circ$} % Open circle for the second level
\renewcommand\labelitemiii{$\star$} % Star for the third level


% Set up a Hebrew-compatible font
\setmainfont{David CLM} % Replace with another Hebrew-compatible font if needed

% Define Hebrew labels manually using a custom counter
\newcounter{hebrewCounter} % Create a new counter
\renewcommand{\thehebrewCounter}{% Map the counter value to Hebrew letters
    \ifcase\value{hebrewCounter}
    \or א
    \or ב
    \or ג
    \or ד
    \or ה
    \or ו
    \or ז
    \or ח
    \or ט
    \or י
    \else ?
    \fi
}

% Force Hebrew letter and period to act as a single unit
\newcommand{\fixNumbering}[1]{\makebox[0pt][r]{#1\kern-0.3em.}} % Use \kern to remove space

\begin{document}

 
% --------------------------------------------------------------
%                         Start here
% --------------------------------------------------------------
\HE 
\title{ממ"ן 12 - ראייה ממוחשבת}
\author{אסף רזון}
\maketitle
בתרגיל זה  3 חלקים. 

\section*{שאלה {1}}
בחלק 1 נדרשנו לממש את הגלאים הנ"ל:
\EN

\HE
\section*{שאלה {2}}
בחלק 1 נדרשנו לממש את הגלאים הנ"ל:
\EN

\newpage
\HE
\section*{שאלה {3}}
בחלק 1 נדרשנו לממש את הגלאים הנ"ל:
\EN


\end{document}